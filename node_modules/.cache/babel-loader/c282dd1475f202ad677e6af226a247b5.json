{"remainingRequest":"/home/billk97/Documents/personal/projects/pi-verifier/node_modules/babel-loader/lib/index.js!/home/billk97/Documents/personal/projects/pi-verifier/node_modules/eslint-loader/index.js??ref--14-0!/home/billk97/Documents/personal/projects/pi-verifier/src/store/modules/admin.js","dependencies":[{"path":"/home/billk97/Documents/personal/projects/pi-verifier/src/store/modules/admin.js","mtime":1658436009231},{"path":"/home/billk97/Documents/personal/projects/pi-verifier/babel.config.js","mtime":1658419066352},{"path":"/home/billk97/Documents/personal/projects/pi-verifier/node_modules/cache-loader/dist/cjs.js","mtime":1621710778188},{"path":"/home/billk97/Documents/personal/projects/pi-verifier/node_modules/babel-loader/lib/index.js","mtime":1650528685806},{"path":"/home/billk97/Documents/personal/projects/pi-verifier/node_modules/eslint-loader/index.js","mtime":1621710786693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IGFkbWluU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL2FkbWluU2VydmljZSIKaW1wb3J0IGp3dFV0aWxzIGZyb20gIkAvdXRpbHMvand0LXV0aWxzIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgand0VG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QtdG9rZW4nKSwKICAgIHByaXZpbGVnZXM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEp3dFRva2VuKHN0YXRlLCBqd3RUb2tlbikgewogICAgICBzdGF0ZS5qd3RUb2tlbiA9IGp3dFRva2VuOwogICAgfSwKCiAgICBzZXRQcml2aWxlZ2VzKHN0YXRlLCBwcml2aWxlZ2VzKSB7CiAgICAgIHN0YXRlLnByaXZpbGVnZXMgPSBwcml2aWxlZ2VzOwogICAgfQoKICB9LAogIGFjdGlvbnM6IHsKICAgIGFzeW5jIGxvZ2luKHsKICAgICAgY29tbWl0CiAgICB9LCBjcmVkZW50aWFscykgewogICAgICAvLyBjb25zdCByZXNwID0gYXdhaXQgYWRtaW5TZXJ2aWNlLmxvZ2luKGNyZWRlbnRpYWxzKQogICAgICBjb25zb2xlLmxvZyhjcmVkZW50aWFscyk7CiAgICAgIGNvbnN0IHJlc3AgPSB7fTsKICAgICAgY29uc3QgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QtdG9rZW4nLCB0b2tlbik7CiAgICAgIGNvbW1pdCgnc2V0Snd0VG9rZW4nLCB0b2tlbik7CiAgICAgIGNvbnN0IHByaXZpbGVnZXMgPSBqd3RVdGlscy5nZXRQcml2aWxlZ2VzKHRva2VuKTsKICAgICAgY29tbWl0KCdzZXRQcml2aWxlZ2VzJywgcHJpdmlsZWdlcyk7CiAgICAgIGNvbnNvbGUubG9nKCJsb2dnZWQgaW4hIik7CiAgICAgIHJvdXRlci5wdXNoKCJlbXBsb3llZXMiKTsKICAgIH0sCgogICAgYXN5bmMgbG9nb3V0KHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIGNvbW1pdCgnc2V0Snd0VG9rZW4nLCBudWxsKTsKICAgICAgY29tbWl0KCdzZXRQcml2aWxlZ2VzJywgbnVsbCk7CiAgICAgIGF3YWl0IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdqd3QtdG9rZW4nKTsKICAgICAgYXdhaXQgcm91dGVyLnB1c2goInJlZ2lzdGVyIik7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQoKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmp3dFRva2VuICE9PSBudWxsOwogICAgfQoKICB9Cn07"},{"version":3,"names":["jwtUtils","router","state","jwtToken","localStorage","getItem","privileges","mutations","setJwtToken","setPrivileges","actions","login","commit","credentials","console","log","resp","token","data","setItem","getPrivileges","push","logout","removeItem","location","reload","getters","isLoggedIn"],"sources":["/home/billk97/Documents/personal/projects/pi-verifier/src/store/modules/admin.js"],"sourcesContent":["// import adminService from \"@/services/adminService\"\nimport jwtUtils from \"@/utils/jwt-utils\";\nimport router from \"@/router\";\n\nexport default {\n    state: {\n        jwtToken: localStorage.getItem('jwt-token'),\n        privileges: []\n    },\n    mutations: {\n        setJwtToken(state, jwtToken) {\n            state.jwtToken = jwtToken\n        },\n        setPrivileges(state, privileges) {\n            state.privileges = privileges\n        }\n    },\n    actions: {\n        async login({commit}, credentials) {\n            // const resp = await adminService.login(credentials)\n            console.log(credentials)\n            const resp  = {}\n            const token = resp.data.token\n            localStorage.setItem('jwt-token', token)\n            commit('setJwtToken', token)\n            const privileges = jwtUtils.getPrivileges(token)\n            commit('setPrivileges', privileges)\n            console.log(\"logged in!\")\n            router.push(\"employees\")\n        },\n        async logout({commit}) {\n            commit('setJwtToken', null)\n            commit('setPrivileges', null)\n            await localStorage.removeItem('jwt-token')\n            await router.push(\"register\")\n            location.reload()\n        }\n    },\n    getters: {\n        isLoggedIn (state) {\n            return state.jwtToken !== null\n        }\n    }\n}\n"],"mappings":"AAAA;AACA,OAAOA,QAAP,MAAqB,mBAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,eAAe;EACXC,KAAK,EAAE;IACHC,QAAQ,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,CADP;IAEHC,UAAU,EAAE;EAFT,CADI;EAKXC,SAAS,EAAE;IACPC,WAAW,CAACN,KAAD,EAAQC,QAAR,EAAkB;MACzBD,KAAK,CAACC,QAAN,GAAiBA,QAAjB;IACH,CAHM;;IAIPM,aAAa,CAACP,KAAD,EAAQI,UAAR,EAAoB;MAC7BJ,KAAK,CAACI,UAAN,GAAmBA,UAAnB;IACH;;EANM,CALA;EAaXI,OAAO,EAAE;IACL,MAAMC,KAAN,CAAY;MAACC;IAAD,CAAZ,EAAsBC,WAAtB,EAAmC;MAC/B;MACAC,OAAO,CAACC,GAAR,CAAYF,WAAZ;MACA,MAAMG,IAAI,GAAI,EAAd;MACA,MAAMC,KAAK,GAAGD,IAAI,CAACE,IAAL,CAAUD,KAAxB;MACAb,YAAY,CAACe,OAAb,CAAqB,WAArB,EAAkCF,KAAlC;MACAL,MAAM,CAAC,aAAD,EAAgBK,KAAhB,CAAN;MACA,MAAMX,UAAU,GAAGN,QAAQ,CAACoB,aAAT,CAAuBH,KAAvB,CAAnB;MACAL,MAAM,CAAC,eAAD,EAAkBN,UAAlB,CAAN;MACAQ,OAAO,CAACC,GAAR,CAAY,YAAZ;MACAd,MAAM,CAACoB,IAAP,CAAY,WAAZ;IACH,CAZI;;IAaL,MAAMC,MAAN,CAAa;MAACV;IAAD,CAAb,EAAuB;MACnBA,MAAM,CAAC,aAAD,EAAgB,IAAhB,CAAN;MACAA,MAAM,CAAC,eAAD,EAAkB,IAAlB,CAAN;MACA,MAAMR,YAAY,CAACmB,UAAb,CAAwB,WAAxB,CAAN;MACA,MAAMtB,MAAM,CAACoB,IAAP,CAAY,UAAZ,CAAN;MACAG,QAAQ,CAACC,MAAT;IACH;;EAnBI,CAbE;EAkCXC,OAAO,EAAE;IACLC,UAAU,CAAEzB,KAAF,EAAS;MACf,OAAOA,KAAK,CAACC,QAAN,KAAmB,IAA1B;IACH;;EAHI;AAlCE,CAAf"}]}